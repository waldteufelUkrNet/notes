(function($,window){"use strict";function bpxl_responsive_menu(){$(".st-menu ul li").has('ul').prepend("<span class='side-sub-menu'><i class='fa fa-angle-down'></i></span>");$('.st-menu ul li .side-sub-menu').on("click",function(){$(this).next().next().slideToggle(300);if($(this).children().hasClass('fa-angle-down')){$(this).children().removeClass('fa-angle-down').addClass('fa-angle-up');}else{$(this).children().removeClass('fa-angle-up').addClass('fa-angle-down');}});$(".menu-btn").click(function(e){e.preventDefault();e.stopPropagation();$("html").toggleClass("openNav");});$(document).on('click',function(e){var mouseclick=$(e.target);if(mouseclick.hasClass('st-menu')||mouseclick.parents().hasClass('st-menu')||mouseclick.parents().hasClass('side-sub-menu')){return;}
else{$('html').removeClass("openNav");}});};function bpxl_tabs(){"use strict";$("#tabs li").click(function(){$("#tabs li").removeClass('active');$(this).addClass("active");$(".tab-content").hide();var selected_tab=$(this).find("a").attr("href");$(selected_tab).fadeIn();return false;});};function bpxl_scroll_top(){var offset=220;var duration=500;$(window).scroll(function(){if($(this).scrollTop()>offset){$('.back-to-top').fadeIn(duration);}else{$('.back-to-top').fadeOut(duration);}});$('.back-to-top').on("click",function(event){event.preventDefault();$('html,body').animate({scrollTop:0},duration);return false;})};function bpxl_fitvids(){$("body").fitVids({customSelector:["iframe[src*='youtu.be']","iframe[src*='soundcloud.com']","iframe[src*='mixcloud.com']","iframe[src*='blip.tv']","iframe[src*='dailymotion.com']","iframe[src*='spotify.com']","iframe[src*='slideshare.net']",]});$(".wp-video-shortcode, .wp-audio-shortcode").css('max-width','100%');};function bpxl_social_window(){$('.social-btn a').click(function(e){var className=$(this).attr('class');if(className!='fa fa-whatsapp'){e.preventDefault();window.open($(this).attr('href'),'','height=450, width=550, top='+($(window).height()/2-275)+', left='+($(window).width()/2-225)+', toolbar=0, location=0, menubar=0, directories=0, scrollbars=1');return false;}});};function bpxl_header_slider(){$('.header-slider').imagesLoaded(function(){$('.header-slider').flexslider({animation:"fade",pauseOnHover:true,controlNav:true,directionNav:false,prevText:"",nextText:"",touch:true,start:function(slider){$('.header-slider').removeClass('loading');}});});};function bpxl_widget_slider(){$('.widgetslider').imagesLoaded(function(){$('.widgetslider').flexslider({animation:"fade",pauseOnHover:true,controlNav:false,prevText:"<i class='fa fa-angle-left'></i>",nextText:"<i class='fa fa-angle-right'></i>",touch:true,start:function(slider){$('.widgetslider').removeClass('loading');}});});};function bpxl_featured_slider(){$('.featuredslider').imagesLoaded(function(){$('.featuredslider').flexslider({animation:"fade",pauseOnHover:true,controlNav:true,prevText:"<i class='fa fa-angle-left'></i>",nextText:"<i class='fa fa-angle-right'></i>",touch:true,initDelay:5000,start:function(slider){$('.featuredslider').removeClass('loading');}});});};function bpxl_gallery_slider(){$('.galleryslider').imagesLoaded(function(){$('.galleryslider').flexslider({animation:"fade",pauseOnHover:true,directionNav:true,controlNav:true,prevText:"<i class='fa fa-angle-left'></i>",nextText:"<i class='fa fa-angle-right'></i>",touch:true,start:function(slider){$('.galleryslider').removeClass('loading');}});});}
function bpxl_masonry_layout(){if(goblog_masonry.enabled==1){var container=jQuery('.masonry').imagesLoaded(function(){container.masonry({itemSelector:'.masonry article',columnWidth:'.grid-sizer',isAnimated:true,gutter:'.gutter-sizer',percentPosition:true});});}}
function bpxl_scripts(){bpxl_responsive_menu();bpxl_tabs();bpxl_scroll_top();bpxl_fitvids();bpxl_social_window();bpxl_header_slider();bpxl_widget_slider();bpxl_featured_slider();bpxl_gallery_slider();bpxl_masonry_layout();}
$(document).ready(bpxl_scripts);})(jQuery,window);jQuery(document).ready(function($){ajaxMailChimpForm($("#mc-embedded-subscribe-form"),$(".subscribe-result"));function ajaxMailChimpForm($form,$resultElement){$form.attr("action");$form.submit(function(e){e.preventDefault();if(!isValidEmail($form)){var error="A valid email address must be provided.";$resultElement.html(error);$resultElement.css("color","red");}else{$resultElement.html("Subscribing...");var url=$form.attr('action');console.log(url);if(url==''){$resultElement.css("color","red");$resultElement.html("Please add mailchimp form URL for this widget");return false;}else{url=url.replace('subscribe/post','subscribe/post-json');}
submitSubscribeForm($form,$resultElement,url);}});}
function isValidEmail($form){var email=$form.find("input[type='email']").val();if(!email||!email.length){return false;}else if(email.indexOf("@")==-1){return false;}
return true;}
function submitSubscribeForm($form,$resultElement,$url){$.ajax({type:"GET",url:$url,data:$form.serialize(),cache:false,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(error){},success:function(data){if(data.result!="success"){var message=data.msg||"Sorry. Unable to subscribe. Please try again later.";$resultElement.css("color","green");if(data.msg&&data.msg.indexOf("already subscribed")>=0){message="You're already subscribed. Thank you.";}
$resultElement.html(message);}else{$resultElement.html("Thank you!<br>You must confirm the subscription in your inbox.");}}});}});